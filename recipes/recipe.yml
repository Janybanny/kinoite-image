# image will be published to ghcr.io/<user>/<name>
name: kinoite-image
# description will be included in the image's metadata
description: This is my personal OS image.

# the base image to build on top of (FROM) and the version tag to use
base-image: ghcr.io/ublue-os/kinoite-nvidia
image-version: latest # latest is also supported if you want new updates ASAP

# module configuration, executed in order
# you can include multiple instances of the same module
modules:
  - type: rpm-ostree
    install:
      # - rclone # TODO
      - qt6-qtimageformats
      - kf6-kimageformats
      - kdevelop
    remove:
      - firefox # default firefox removed in favor of flatpak
      - firefox-langpacks # langpacks needs to also be removed to prevent dependency problems
      - kwrite # kate is installed as well and kwrite just gets in the way
      - plasma-discover-notifier # updates are applied automatically, so the notifier is just in the way
  # Auto Updates
  - type: files
    files:
      - source: bootc-update
        destination: /usr/lib/systemd/system
  - type: systemd
    system:
      masked:
        - ublue-update.timer
        - rpm-ostreed-automatic.timer
      enabled:
        - bootc-fetch-apply-updates.timer
  - type: default-flatpaks
    configurations:
      - notify: false # Send notification after install/uninstall is finished (true/false)
        scope: system
        install:
          - app.zen_browser.zen
          - com.github.IsmaelMartinez.teams_for_linux
          - com.heroicgameslauncher.hgl
          - com.protonvpn.www
          - com.spotify.Client
          - com.usebottles.bottles
          - com.valvesoftware.Steam
          - com.valvesoftware.Steam.CompatibilityTool.Proton-GE
          - dev.vencord.Vesktop
          - io.github.everestapi.Olympus
          - io.github.tfuxu.Halftone
          - io.mpv.Mpv
          - org.blender.Blender
          - org.fedoraproject.MediaWriter
          - org.gimp.GIMP
          - org.godotengine.Godot
          - org.inkscape.Inkscape
          - org.kde.gwenview
          - org.kde.kdenlive
          - org.kde.krita
          - org.kde.ktorrent
          - org.kde.okular
          - org.kde.skanpage
          - org.libreoffice.LibreOffice
          - org.mozilla.firefox
          - org.prismlauncher.PrismLauncher
          - org.signal.Signal
          - us.zoom.Zoom
        
  - type: signing # this sets up the proper policy & signing files for signed images to work fully
